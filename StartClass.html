<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>FeedUrProf – Kurs gestartet</title>

  <style>

    html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    }
 
    body {
      display: flex;
      flex-direction: column;
      
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
    }

    main {
      flex: 1; /* pushes footer to bottom */
    }

    .header-inner {
      display: flex; 
      align-items: center;      
      justify-content: center;
      padding: 10px;
      min-height: 30px;  
      background-color: #98cdf5;
    }

    
    .brand {
      font-weight: 500; 
      font-size: 3.15rem; 
      color: #950000;
      text-align: center;
      
    }

    #class-title {
      position: absolute;
      top: 12%;
      left: 8%;
      transform: translate(-50%, -50%);

      font-size: 2.15rem;
      font-weight: bold;
      color: #000000;
      
    }

    .content {
      display: flex;
      padding: 70px;
      gap: 15px;
      
    }

    .column {
      background: white;
      padding: 15px;
      flex: 1;
      border-radius: 8px;
    }

    .clickable-image{
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .clickable-image:hover{
      transform: scale(1.2);
    }

    .feedback-bar {
      height: 40px;
      margin: 8px 0;

      width: 0;
      transition: width 16s ease; /* smooth fill */
      border-radius: 6px;
    }

    .green { background: #6cc070; }
    .red { background: #e06b6b; }
    .orange { background: #f0a44b; }
    .blue { background: #5fa8d3; }

    .meme1{
      width: 210px;
      height: 120px;

      opacity: 0;

      animation: growAndShrink 1.5s ease-in-out forwards;
      animation-delay: 2s;
    }

    /* keyframes */
    @keyframes growAndShrink {
      0% {
        opacity: 0;
        transform: scale(1);
      }
      10% {
        opacity: 1; /* fade in right as animation starts */
      }
      50% {
        transform: scale(2.9); /* bigger */
      }
      100% {
        opacity: 1;
        transform: scale(1); /* back to normal */
      }
    }

    .meme2{
      width: 210px;
      height: 120px;

      opacity: 0;

      animation: growAndShrink 1.5s ease-in-out forwards;
      animation-delay: 5s;
    }

    #questions-list {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .question-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      
      padding: 10px 14px;
      border-radius: 6px;
      background-color: #ffffff;
      color: rgb(0, 0, 0);
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .question-row.show {
      opacity: 1;
      transform: translateY(0);
    }

    .question-text {
      flex: 1;
      margin-right: 16px;
    }


    .question-icon {
      width: 26px;
      height: 26px;
      cursor: pointer;
    }
    
    .question-icon:hover {
      transform: scale(1.2);
    }

    .animate-question {
      opacity: 0;  
      transition: transform 0.3s ease, opacity 0.3s ease;
    }


    /* END Button */
    .end-button {
      position: fixed;
      bottom: 70px;
      right: 20px;

      padding: 12px 20px;
      font-size: 16px;
      font-weight: bold;
      background-color: #e06b6b;
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .end-button:hover {
      background-color: #c95454;
      transform: scale(1.05); 
      box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
    }

    footer {
      display: flex;
      align-items: center; 
      justify-content: center; 
      padding: 12px;
      min-height: 35px; 
      font-weight: 600; 
      color: #950000;
      background-color: #8abce1;
    }


  </style>
</head>

<body onload="loadQuestionsForClass()">
  <main>

  <div class="header-inner"> 
      <div class="brand">FeedUrProf</div> 
  </div>

  <div class="content">

    <div class="column">
      <h3>Questions</h3>

      <div class="question-row animate-question">
        <p>Can you explain principle XX?</p>
        <img src="remove-icon.png" class="clickable-image" onclick="removeQ(this)">
      </div>
      
      <div class="question-row animate-question">
        <p>Can you explain YY?</p>
        <img src="remove-icon.png" class="clickable-image" onclick="removeQ(this)">
      </div>

      <div class="question-row animate-question">
        <p>Can you explain ZZ?</p>
        <img src="remove-icon.png" class="clickable-image" onclick="removeQ(this)">
      </div>

     </div>

    <div class="column">
      <h3>Feedback</h3>

      <div class="feedback-bar green" style="width:80%"></div>
      <p>good</p>

      <div class="feedback-bar red" style="width:40%"></div>
      <p>don’t understand</p>

      <div class="feedback-bar orange" style="width:55%"></div>
      <p>too slow</p>

      <div class="feedback-bar blue" style="width:25%"></div>
      <p>too fast</p>
      
      <div style="display:flex; gap:10px; margin-top:10px">
        <div style="
          flex:1;
          height:120px;
          border:2px dashed #aaa;
          display:flex;
          align-items:center;
          justify-content:center;
        ">
          <img src="dontunderstand.JPG" class="meme1">
        </div>

        <div style="
          flex:1;
          height:120px;
          border:2px dashed #aaa;
          display:flex;
          align-items:center;
          justify-content:center;
        ">
          <img src="good.JPG" class="meme2">
        </div>
      </div>
    </div>

    <div class="column">
      <h3>My Questions</h3>

      <div class="my-questions">
        <div id="questions-list"></div> 
      </div>
      
    </div>

  </div>

  

  <!-- END Button -->
  <button class="end-button" onclick="window.location.href='MyCourses.html'">END</button>

  </main>

  <footer>
    FeedUrProf ©
  </footer>

  <h1 id="class-title"></h1>
  <script>
    
  const title = localStorage.getItem("selectedClassTitle");

  if (title) {
    document.getElementById("class-title").textContent = title;
  }

  function removeQ(img) {
  const row = img.closest(".question-row");
  row.remove();
  }

  //
  const rows = document.querySelectorAll(".question-row");
  let index = 0;
  
  function showNext() {
    if (index < rows.length) {
      rows[index].classList.add("show");
      index++;
    }
  }

  setInterval(showNext, 3000); // first after 3 sec then every 3 seconds
  //
 
  //
  const bars = document.querySelectorAll(".feedback-bar");

  bars.forEach(bar => {
    const targetWidth = bar.style.width; 
    bar.style.width = "0";               // force start 0

    setTimeout(() => {
      bar.style.width = targetWidth;
    }, 100);
  });
  //

  
  function loadQuestionsForClass() {
    
  const className = localStorage.getItem("selectedClassTitle");
  if (!className) return;

  const allData = JSON.parse(localStorage.getItem("classQuestions")) || {};
  const questions = allData[className] || [];

  const list = document.getElementById("questions-list");
  list.innerHTML = "";

  questions.forEach((q, index) => {
    const row = document.createElement("div");
    row.className = "question-row";
    row.style.display = "flex";
    row.style.alignItems = "center";
    row.style.justifyContent = "space-between";
    row.style.marginBottom = "10px";

    const questionSpan = document.createElement("span");
    questionSpan.className = "question-text";
    questionSpan.textContent = q.q;

    const icon = document.createElement("img");
    icon.src = "start-icon.png";
    icon.alt = "Start question";
    icon.className = "question-icon";
    icon.style.cursor = "pointer";

    icon.onclick = () => {
      localStorage.setItem("selectedQuestionIndex", index);
      window.location.href = "questionEval.html";
    };

    row.appendChild(questionSpan);
    row.appendChild(icon);

    list.appendChild(row);
  });
}
  

  </script>

</body>
</html>
