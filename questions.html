<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Edit Question</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<main>

<div class="header-inner"> 
      <div class="brand">FeedUrProf</div> 
</div>

<div class="content">

<h2>Edit question</h2>

<div class="questions"> 


<div class="question-box questions">
   <img src="save-icon.png" alt="Save Question" class="save" onclick="save()">

    <div class="line">
        <label>Q.</label>
        <input class="questions" id="q">
    </div>

    <div class="line">
        <label>A1.</label>
        <input class="questions" id="a1">
    </div>

    <div class="line">
        <label>A2.</label>
        <input class="questions" id="a2">
    </div>

    <div class="line">
        <label>A3.</label>
        <input class="questions" id="a3">
    </div>

    <img src="remove-icon.png" alt="Remove Q" class="delete" onclick="remove()">
</div>

</div>

</div>

<button class="back-button" onclick="back()">Cancel</button>


</main>

<footer>
    FeedUrProf Â©
</footer>

<h1 id="class-title"></h1>

  <script>
  const title = localStorage.getItem("selectedClassTitle");

  if (title) {
    document.getElementById("class-title").textContent = title;
  }

</script>

<script>

const className = localStorage.getItem("selectedClassTitle");
const allClasses = JSON.parse(localStorage.getItem("classQuestions")) || {};
let questions = allClasses[className] || [];

const index = localStorage.getItem("currentQuestion");
if (index === null || !questions[index]) {
    window.location.href = "index.html";
}

const qData = questions[index];
document.getElementById("q").value = qData.q;
document.getElementById("a1").value = qData.a1;
document.getElementById("a2").value = qData.a2;
document.getElementById("a3").value = qData.a3;

function save() {
    questions[index] = {
        q: document.getElementById("q").value,
        a1: document.getElementById("a1").value,
        a2: document.getElementById("a2").value,
        a3: document.getElementById("a3").value
    };

    allClasses[className] = questions;
    localStorage.setItem("classQuestions", JSON.stringify(allClasses));

    window.location.href = "index.html";
}

function remove() {
    questions.splice(index, 1);
    allClasses[className] = questions;
    localStorage.setItem("classQuestions", JSON.stringify(allClasses));
    window.location.href = "index.html";
}

function back() {
    window.location.href = "index.html";
}
</script>

</body>
</html>